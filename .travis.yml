language: c
before_install:
 - sudo add-apt-repository -y ppa:terry.guo/gcc-arm-embedded
 - sudo apt-get update
 - sudo apt-get install gperf
 - sudo apt-get install valgrind
 - sudo apt-get install gcc-arm-none-eabi
before_script:
 - arm-none-eabi-gcc --version
compiler:
  - gcc
env:
  - DEFCONFIG=unix_sim_tests_defconfig
  - DEFCONFIG=frdm_kl25z_gcc_defconfig SKIP_TESTS=1 LIBC_DIR=/usr/arm-none-eabi/lib/thumb LIBGCC_DIR=/usr/lib/gcc/arm-none-eabi/4.7.4/thumb CROSS_COMPILE=arm-none-eabi-
script: make $DEFCONFIG && make && cd tests && ./run_tests.sh && ./leak_check.sh
